{ "name":"BroadlinkTV",
  "manufacturer":"Broadlink",
  "type":"TV",
  "version":18,
  "discover":{
    "welcomeheadertext":"Broadlink Driver TV",
    "welcomedescription":"powered by meta",
    "command":{"type":"http-rest", "command":{"verb":"get", "call":"http://localhost:1880/meta/broadlink"}, "queryresult":"$.*"}
  },
  "template" : {
    "dynamicname":"DYNAMIK_INST_START DYNAMIK \"TV - \" + JSON.parse(\"$Result\").mac DYNAMIK_INST_END",
    "dynamicid":"DYNAMIK_INST_START DYNAMIK \"TV - \" + JSON.parse(\"$Result\").mac DYNAMIK_INST_END",
    "variables":{
      "BroadlinkIP":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").ip DYNAMIK_INST_END",
      "BroadlinkMac":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").mac DYNAMIK_INST_END",
      "BroadlinkTypeId":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").typeid DYNAMIK_INST_END",
      "Status":"",
      "ActionStatus":"",
      "ButtonPressed":"",
      "Learning":false
    },
    "persistedvariables":{
      "IRSET":"\"[]\""
    },
    "listeners": {
      "BroadlinkReceiver": {
        "type": "mqtt",
        "command": "meta/BroadlinkTV/IR", 
        "queryresult": "",
        "evalwrite": [
          {
            "variable": "IRSET",
            "value": "DYNAMIK let myIRData = JSON.parse(\"$Result\").data; let myIRSet = JSON.parse($IRSET);let IRIndex = myIRSet.findIndex((record)=>{return record.button == \"$ButtonPressed\"}); if (IRIndex<0) {myIRSet.push({\"button\":\"$ButtonPressed\",\"data\":myIRData});} else { myIRSet[IRIndex] = {\"button\":\"$ButtonPressed\",\"data\":myIRData};}; JSON.stringify(JSON.stringify(myIRSet));"
          }
        ]
      }
    },
    "switches":{
      "Learn" : {"label":"Learn", "listen":"Learning", "evaldo":[{"test":"DYNAMIK $Result", "then":"__LEARN", "or":"__PLAY"}]}
    },
    "labels":{  
      "Status" : {"label":" ", "listen":"Status", "actionlisten":"ActionStatus"}
    },
    "buttons":{
      "__INITIALISE": {"label":"", "type":"static", "command":""},
      "__LEARN": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"Status","value":"Ready to Learn"}]},
      "__PLAY": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"Status","value":"Ready to Command"}]},

      "POWER ON": {"label":"", "type":"static", "command":"", "evaldo":[{"test":true,"then":"__INITIALISE", "or":""}, {"test":true,"then":"FAKE POWER ON", "or":""}]},
      "FAKE POWER ON": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__POWER ON LEARN", "or":"__POWER ON PLAY"}]},
      "__POWER ON LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"POWER ON"}]},
      "__POWER ON PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"POWER ON\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "POWER OFF": {"label":"", "type":"static", "command":"", "evaldo":[{"test":true,"then":"FAKE POWER OFF", "or":""}]},
      "FAKE POWER OFF": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__POWER OFF LEARN", "or":"__POWER OFF PLAY"}, {"test":true,"then":"__CLEANUP", "or":""}]},
      "__POWER OFF LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"POWER OFF"}]},
      "__POWER OFF PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"POWER OFF\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "CHANNEL UP": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CHANNEL UP LEARN", "or":"__CHANNEL UP PLAY"}]},
      "__CHANNEL UP LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CHANNEL UP"}]},
      "__CHANNEL UP PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CHANNEL UP\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "CHANNEL DOWN": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CHANNEL DOWN LEARN", "or":"__CHANNEL DOWN PLAY"}]},
      "__CHANNEL DOWN LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CHANNEL DOWN"}]},
      "__CHANNEL DOWN PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CHANNEL DOWN\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "VOLUME UP": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__VOLUME UP LEARN", "or":"__VOLUME UP PLAY"}]},
      "__VOLUME UP LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"VOLUME UP"}]},
      "__VOLUME UP PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"VOLUME UP\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "VOLUME DOWN": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__VOLUME DOWN LEARN", "or":"__VOLUME DOWN PLAY"}]},
      "__VOLUME DOWN LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"VOLUME DOWN"}]},
      "__VOLUME DOWN PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"VOLUME DOWN\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "MUTE TOGGLE": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__MUTE TOGGLE LEARN", "or":"__MUTE TOGGLE PLAY"}]},
      "__MUTE TOGGLE LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"MUTE TOGGLE"}]},
      "__MUTE TOGGLE PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"MUTE TOGGLE\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "TV": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__TV LEARN", "or":"__TV PLAY"}]},
      "__TV LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"TV"}]},
      "__TV PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"TV\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DVB": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DVB LEARN", "or":"__DVB PLAY"}]},
      "__DVB LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DVB"}]},
      "__DVB PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DVB\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "TUNER": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__TUNER LEARN", "or":"__TUNER PLAY"}]},
      "__TUNER LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"TUNER"}]},
      "__TUNER PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"TUNER\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "PLAY": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__PLAY LEARN", "or":"__PLAY PLAY"}]},
      "__PLAY LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"PLAY"}]},
      "__PLAY PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"PLAY\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "PAUSE": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__PAUSE LEARN", "or":"__PAUSE PLAY"}]},
      "__PAUSE LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"PAUSE"}]},
      "__PAUSE PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"PAUSE\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "STOP": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__STOP LEARN", "or":"__STOP PLAY"}]},
      "__STOP LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"STOP"}]},
      "__STOP PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"STOP\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      

      "MENU": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__MENU LEARN", "or":"__MENU PLAY"}]},
      "__MENU LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"MENU"}]},
      "__MENU PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"MENU\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "BACK": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__BACK LEARN", "or":"__BACK PLAY"}]},
      "__BACK LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"BACK"}]},
      "__BACK PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"BACK\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "INPUT HDMI 1": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT HDMI 1 LEARN", "or":"__INPUT HDMI 1 PLAY"}]},
      "__INPUT HDMI 1 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT HDMI 1"}]},
      "__INPUT HDMI 1 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT HDMI 1\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "INPUT HDMI 2": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT HDMI 2 LEARN", "or":"__INPUT HDMI 2 PLAY"}]},
      "__INPUT HDMI 2 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT HDMI 2"}]},
      "__INPUT HDMI 2 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT HDMI 2\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "INPUT HDMI 3": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT HDMI 3 LEARN", "or":"__INPUT HDMI 3 PLAY"}]},
      "__INPUT HDMI 3 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT HDMI 3"}]},
      "__INPUT HDMI 3 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT HDMI 3\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "INPUT AV 1": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT AV 1 LEARN", "or":"__INPUT AV 1 PLAY"}]},
      "__INPUT AV 1 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT AV 1"}]},
      "__INPUT AV 1 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT AV 1\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "INPUT AV 2": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT AV 2 LEARN", "or":"__INPUT AV 2 PLAY"}]},
      "__INPUT AV 2 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT AV 2"}]},
      "__INPUT AV 2 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT AV 2\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "INPUT AV 3": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__INPUT AV 3 LEARN", "or":"__INPUT AV 3 PLAY"}]},
      "__INPUT AV 3 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"INPUT AV 3"}]},
      "__INPUT AV 3 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"INPUT AV 3\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "FUNCTION RED": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__FUNCTION RED LEARN", "or":"__FUNCTION RED PLAY"}]},
      "__FUNCTION RED LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"FUNCTION RED"}]},
      "__FUNCTION RED PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"FUNCTION RED\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "FUNCTION GREEN": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__FUNCTION GREEN LEARN", "or":"__FUNCTION GREEN PLAY"}]},
      "__FUNCTION GREEN LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"FUNCTION GREEN"}]},
      "__FUNCTION GREEN PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"FUNCTION GREEN\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "FUNCTION BLUE": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__FUNCTION BLUE LEARN", "or":"__FUNCTION BLUE PLAY"}]},
      "__FUNCTION BLUE LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"FUNCTION BLUE"}]},
      "__FUNCTION BLUE PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"FUNCTION BLUE\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "FUNCTION YELLOW": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__FUNCTION YELLOW LEARN", "or":"__FUNCTION YELLOW PLAY"}]},
      "__FUNCTION YELLOW LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"FUNCTION YELLOW"}]},
      "__FUNCTION YELLOW PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"FUNCTION YELLOW\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "DIGIT 0": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 0 LEARN", "or":"__DIGIT 0 PLAY"}]},
      "__DIGIT 0 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 0"}]},
      "__DIGIT 0 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 0\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 1": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 1 LEARN", "or":"__DIGIT 1 PLAY"}]},
      "__DIGIT 1 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 1"}]},
      "__DIGIT 1 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 1\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 2": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 2 LEARN", "or":"__DIGIT 2 PLAY"}]},
      "__DIGIT 2 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 2"}]},
      "__DIGIT 2 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 2\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 3": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 3 LEARN", "or":"__DIGIT 3 PLAY"}]},
      "__DIGIT 3 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 3"}]},
      "__DIGIT 3 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 3\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 4": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 4 LEARN", "or":"__DIGIT 4 PLAY"}]},
      "__DIGIT 4 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 4"}]},
      "__DIGIT 4 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 4\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 5": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 5 LEARN", "or":"__DIGIT 5 PLAY"}]},
      "__DIGIT 5 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 5"}]},
      "__DIGIT 5 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 5\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 6": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 6 LEARN", "or":"__DIGIT 6 PLAY"}]},
      "__DIGIT 6 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 6"}]},
      "__DIGIT 6 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 6\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 7": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 7 LEARN", "or":"__DIGIT 7 PLAY"}]},
      "__DIGIT 7 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 7"}]},
      "__DIGIT 7 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 7\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 8": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 8 LEARN", "or":"__DIGIT 8 PLAY"}]},
      "__DIGIT 8 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 8"}]},
      "__DIGIT 8 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 8\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "DIGIT 9": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__DIGIT 9 LEARN", "or":"__DIGIT 9 PLAY"}]},
      "__DIGIT 9 LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"DIGIT 9"}]},
      "__DIGIT 9 PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"DIGIT 9\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "CURSOR LEFT": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CURSOR LEFT LEARN", "or":"__CURSOR LEFT PLAY"}]},
      "__CURSOR LEFT LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CURSOR LEFT"}]},
      "__CURSOR LEFT PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CURSOR LEFT\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "CURSOR RIGHT": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CURSOR RIGHT LEARN", "or":"__CURSOR RIGHT PLAY"}]},
      "__CURSOR RIGHT LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CURSOR RIGHT"}]},
      "__CURSOR RIGHT PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CURSOR RIGHT\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "CURSOR UP": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CURSOR UP LEARN", "or":"__CURSOR UP PLAY"}]},
      "__CURSOR UP LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CURSOR UP"}]},
      "__CURSOR UP PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CURSOR UP\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "CURSOR DOWN": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CURSOR DOWN LEARN", "or":"__CURSOR DOWN PLAY"}]},
      "__CURSOR DOWN LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CURSOR DOWN"}]},
      "__CURSOR DOWN PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CURSOR DOWN\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},
      "CURSOR ENTER": {"label":"", "type":"static", "command":"", "evaldo":[{"test":"DYNAMIK $Learning","then":"__CURSOR ENTER LEARN", "or":"__CURSOR ENTER PLAY"}]},
      "__CURSOR ENTER LEARN": {"label":"", "type":"mqtt", "command": "{\"topic\":\"meta/BroadlinkTV\", \"message\":\"{\\\"host\\\":\\\"$BroadlinkIP\\\",\\\"type\\\":\\\"$BroadlinkTypeId\\\", \\\"mac\\\":\\\"$BroadlinkMac\\\", \\\"action\\\":\\\"learn\\\", \\\"repeat\\\":0}\"}", "evalwrite":[{"variable": "ButtonPressed","value":"CURSOR ENTER"}]},
      "__CURSOR ENTER PLAY": {"label":"", "type":"mqtt", "command":"DYNAMIK let IRData = JSON.parse($IRSET).find((record)=>{return record.button == \"CURSOR ENTER\"}).data;let myMessage = JSON.stringify({\"host\":\"$BroadlinkIP\",\"type\":\"$BroadlinkTypeId\", \"mac\":\"$BroadlinkMac\", \"action\":\"send\",\"data\":IRData, \"repeat\":0});let result = {\"topic\":\"meta/BroadlinkTV\", \"message\":myMessage}; result", "queryresult":"",  "evalwrite":[{"variable": "Status","value": "Command sent."}]},

      "SAVE LEARNED DATA":{"label":"", "type":"static", "command":"", "evaldo":[{"test":"true","then":"__PERSIST", "or":""}]}
     }
  }
}
